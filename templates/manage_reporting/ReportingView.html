{% extends 'base.html' %}
{% block content %}
<div class="row page-titles mx-0">
    <div class="col-sm-6 p-md-0 justify-content-sm-end mt-2 mt-sm-0 d-flex">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="/dashboard/">Dashboard</a></li>
            <li class="breadcrumb-item active"><a href="javascript:void(0)">Manage Reporting</a></li>

        </ol>
    </div>
</div>
<div class="row">
    <div class="col-12">
        <div id="accordion">
  <div class="card">
    <div class="card-header" id="headingOne">
      <h5 class="mb-0">
        <button class="btn btn-link" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
           <h4>Reporting to</h4>
        </button>
      </h5>
    </div>

    <div id="collapseOne" class="collapse show" aria-labelledby="headingOne" data-parent="#accordion">

      <div class="card-body">
                 <div class="table-responsive">
                    <table id="reporting_to_table" class="display table-responsive-md" style="min-width: 1050px">
                        <thead>
                            <tr>
                         <th scope="col">#</th>
                         <th scope="col">Office ID</th>
      <th scope="col">Name</th>
      <th scope="col">Username</th>
      <th scope="col">Email</th>
      <th scope="col">Phone no.</th>
      <th scope="col">Type</th>
      <th scope="col">Action</th>
                            </tr></thead>
                        <tbody>
                                 {% for detail in reporting_by_user %}
                            <tr>
                                <td>{{detail.office_user_id}}</td>
                                <td>{{detail.username|title}}</td>

<!--                                <td>{{detail.phone_number}}</td>-->
                                <td>{{detail.email}}</td>
                                <td>

                                <div class="btn-group" role="group" >
                                    <a href="/tasks/view-user-reporting-by-all-task/{{detail.id}}"  class="btn btn-sm btn-info">TASK</a>
                                    <a href="/tasks/view-user-reporting-by-all-project/{{detail.id}}" class="btn btn-sm btn-light">PROJECT</a>
                                </div>
                                </td>
<!--                                <td><a href="tel:+91{{detail.phone_number}}"  class="btn btn-sm btn-primary">CALL</a>-->
                                <td><a href="#"  class="btn btn-sm btn-primary">CHAT</a>
                                   <a href="mailto:{{detail.email}}"  class="btn btn-sm btn-success">SEND MAIL</a>
<!--                                    <a href="/tasks/manage-reporting/"  class="btn btn-sm btn-info">MANAGE REPORTING</a>-->
                                </td>
                            </tr>
                                {%endfor%}

                  </tbody>

             </table>
            </div>
      </div>
    </div>
  </div>
  <div class="card">
    <div class="card-header" id="headingTwo">
      <h5 class="mb-0">
        <button class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
         <h4>Reporting by</h4>
        </button>
      </h5>
    </div>
    <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordion">
        <div class="card-header">
                <h5 class="card-title">Employees</h5>
                  <div class="float-right">
                      <button type="button" class="btn btn-primary btn-sm" data-toggle="modal" data-target="#exampleModalCenter">
  Update Reporting
</button>

                  </div>
             </div>


       <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle"><strong>UPDATE REPORTING</strong></h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form>
  <div class="form-group">
    <label for="exampleFormControlSelect1">ADD NEW "REPORTING TO"</label>
     <select class="form-control" id="exampleFormControlSelect1">
      <option value="s"> User 1</option>
      <option value="s"> User 2</option>
      <option value="s"> User 3</option>
      <option value="s"> User 4</option>
    </select>
      <small id="emailHelp" class="form-text text-muted">These users are reporting to you right now.You can add new reporting to current users for
        temporary or permanent period of time</small>
  </div>

             <div class="form-group">
    <label for="from_date">From</label>
<input type="date" id="from_date" name="birthday" class="form-control">
  </div>

                  <div class="form-group">
    <label for="to_date">To</label>
                      <input type="date" id="to_date" name="birthday" class="form-control">

  </div>

  <div class="form-check">
    <input type="checkbox" class="form-check-input" id="exampleCheck1">
    <label class="form-check-label" for="exampleCheck1">I accept the change of Ownership of "Reporting to"</label>
  </div>

</form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div>

      <div class="card-body">
                 <div class="table-responsive">
                    <table id="reporting_by_table" class="display table-responsive-md" style="min-width: 1050px">
                        <thead>
                            <tr>
                         <th scope="col">#</th>
                         <th scope="col">Office ID</th>
      <th scope="col">Name</th>
      <th scope="col">Username</th>
      <th scope="col">Email</th>
      <th scope="col">Phone No.</th>
      <th scope="col">Action</th>
                            </tr></thead>
                        <tbody>
                                 {% for detail in reporting_by_user %}
                            <tr>
                                <td>{{detail.office_user_id}}</td>
                                <td>{{detail.username|title}}</td>

<!--                                <td>{{detail.phone_number}}</td>-->
                                <td>{{detail.email}}</td>
                                <td>

                                <div class="btn-group" role="group" >
                                    <a href="/tasks/view-user-reporting-by-all-task/{{detail.id}}"  class="btn btn-sm btn-info">TASK</a>
                                    <a href="/tasks/view-user-reporting-by-all-project/{{detail.id}}" class="btn btn-sm btn-light">PROJECT</a>
                                </div>
                                </td>
<!--                                <td><a href="tel:+91{{detail.phone_number}}"  class="btn btn-sm btn-primary">CALL</a>-->
                                <td><a href="#"  class="btn btn-sm btn-primary">CHAT</a>
                                   <a href="mailto:{{detail.email}}"  class="btn btn-sm btn-success">SEND MAIL</a>
<!--                                    <a href="/tasks/manage-reporting/"  class="btn btn-sm btn-info">MANAGE REPORTING</a>-->
                                </td>
                            </tr>
                                {%endfor%}

                  </tbody>
                    </table>
            </div>
      </div>
    </div>
  </div>
  <div class="card">
    <div class="card-header" id="headingThree">
      <h5 class="mb-0">
        <button class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
            <h4>Reporting History</h4>
        </button>
      </h5>
    </div>
    <div id="collapseThree" class="collapse" aria-labelledby="headingThree" data-parent="#accordion">
      <div class="card-body">
       <div class="table-responsive">
                    <table id="example" class="display table-responsive-md" style="min-width: 1050px">
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>Date (From-To)</th>

<!--                                <th>Contact Number</th>-->
                                <th>Updated "Reporting to"</th>
                                <th>Original "Reporting to"</th>

                            </tr>
                        </thead>
                        <tbody>
                                 {% for detail in reporting_by_user %}
                            <tr>
                                <td>{{detail.office_user_id}}</td>
                                <td>{{detail.username|title}}</td>

<!--                                <td>{{detail.phone_number}}</td>-->
                                <td>{{detail.email}}</td>
                                <td>

                                <div class="btn-group" role="group" >
                                    <a href="/tasks/view-user-reporting-by-all-task/{{detail.id}}"  class="btn btn-sm btn-info">TASK</a>
                                    <a href="/tasks/view-user-reporting-by-all-project/{{detail.id}}" class="btn btn-sm btn-light">PROJECT</a>
                                </div>
                                </td>
<!--                                <td><a href="tel:+91{{detail.phone_number}}"  class="btn btn-sm btn-primary">CALL</a>-->
                                <td><a href="#"  class="btn btn-sm btn-primary">CHAT</a>
                                   <a href="mailto:{{detail.email}}"  class="btn btn-sm btn-success">SEND MAIL</a>
<!--                                    <a href="/tasks/manage-reporting/"  class="btn btn-sm btn-info">MANAGE REPORTING</a>-->
                                </td>
                            </tr>
                                {%endfor%}

                  </tbody>

             </table>
            </div>

       </div>
    </div>
  </div>
</div>



    </div>
</div>

{% endblock %}
{% block js %}<script type="text/javascript">
$(document).ready(function() {
    $('#example').DataTable();
});

$(document).ready(function() {
    $('#reporting_by_table').DataTable();
});

$(document).ready(function() {
    $('#reporting_to_table').DataTable();
});
</script>
{% endblock %}
